<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Ring UI</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
<h1>React && WebPack</h1>

<div class="example">
  <header>Progress Bar:</header>

  <section>
    <div id="progress-bar">
    </div>
  </section>
</div>

<hr/>

<div class="example">
  <header>Checkbox:</header>

  <section>
    <div id="checkbox">
    </div>
  </section>
</div>

<div class="example dropdownExample">
  <section>
    <div id="dropdown">Dropdown</div>
  </section>
</div>

<div class="example">
  <header>Textarea:</header>

  <section>
    <div id="textarea">
    </div>
  </section>
</div>

<div class="example">
  <header>Input:</header>

  <section>
    <div id="input">
    </div>
  </section>
</div>


<script type="text/javascript" src="jQuery.js" charset="utf-8"></script>
<script type="text/javascript" src="Ring.js" charset="utf-8"></script>
<script>
  (function () {
    var value = 0,
      timeout = 500,
      progressBar = react.renderComponent(Ring.ProgressBar({
          value: value
        }), document.getElementById('progress-bar'));

    setTimeout(function foo() {
      var _timeout = timeout;
      value += 0.1;
      if (value > 1) {
          value = 0;
          _timeout *= 2;
      }

      progressBar.setState({ value: value });

      setTimeout(foo, _timeout);
    }, timeout);
  })();

  react.renderComponent(
    Ring.Checkbox(),
    document.getElementById('checkbox'));

  react.renderComponent(
    Ring.Textarea(),
    document.getElementById('textarea'));

  react.renderComponent(
    Ring.Input(),
    document.getElementById('input'));

  /**
   * @constructor
   * @extends {ReactComponent}
   * @mixes {Ring.PopupMixin}
   */
  var CustomPopup = react.createClass({
    mixins: [Ring.PopupMixin],

    getInternalContent: function() {
      return 'Dropdown element as mixin.';
    }
  });

  react.renderComponent(new CustomPopup({
    anchorElement: document.getElementById('dropdown'),
    angle: CustomPopup.Angle.TOP_LEFT,
    classNames: ['additional', 'class', 'names']
  }), CustomPopup.getPopupLayer());


  /**
   * @constructor
   * @extends {ReactComponent}
   */
  var SomeElementToInsertIntoPopup = react.createClass({
    render: function() {
      return react.DOM.div(null, 'Some external elemenet rendered into Popup');
    }
  });

  var popupContainer = document.createElement('div');
  document.body.appendChild(popupContainer);

  react.renderComponent(Ring.Popup(null, SomeElementToInsertIntoPopup(null)), popupContainer);
</script>
</body>
</html>
