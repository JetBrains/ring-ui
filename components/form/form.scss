@import "../global/global";

/**
 * @name Form
 * @description Ring form markup
 * @example
 <example name="Form">
   <file name="index.html">
    <div ng-app="Example.form" style="width: 700px">
     <form class="ring-form" ng-controller="FormExampleCtrl as formExampleCtrl">
       <span class="ring-form__title">Form Title</span>
       <div class="ring-form__group">
         <label for="ring-form-1" class="ring-form__label">Simple Input</label>
         <div class="ring-form__control">
           <input class="ring-input" id="ring-form-1" type="text">
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-2" class="ring-form__label">Medium Input</label>
         <div class="ring-form__control">
           <input class="ring-input ring-input_medium" id="ring-form-2" type="text">
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-3" class="ring-form__label">Input with Error</label>
         <div class="ring-form__control">
           <input class="ring-input ring-input_error" id="ring-form-3" type="text">
           <div class="ring-input__error-bubble active">Error-bubble</div>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-4" class="ring-form__label">Long Input</label>
         <div class="ring-form__control">
           <input class="ring-input ring-input_long" id="ring-form-4" type="text">
           <div class="ring-input__error-bubble active">Error bubble for long control</div>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-5" class="ring-form__label">Full-Width Control</label>
         <div class="ring-form__control ring-form__control_full-width">
           <input class="ring-input" id="ring-form-5" type="text">
           <div class="ring-input__error-bubble active">Error bubble for full-width control</div>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-6" class="ring-form__label">Rg Select in Form</label>
         <div class="ring-form__control">
           <rg-select id="ring-form-6" options="item.name for item in formExampleCtrl.arr track by item.name"></rg-select>
           <div class="ring-form__control__description">I am simple description</div>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-7" class="ring-form__label">Textarea</label>
         <div class="ring-form__control">
           <textarea class="ring-textarea" id="ring-form-7"></textarea>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-8" class="ring-form__label">Textarea in Full-Width</label>
         <div class="ring-form__control ring-form__control_full-width">
           <textarea class="ring-textarea" id="ring-form-8"></textarea>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-9" class="ring-form__label">Rg Select in Small</label>
         <div class="ring-form__control ring-form__control_small">
           <rg-select id="ring-form-9" options="item.name for item in formExampleCtrl.arr track by item.name"></rg-select>
           <div class="ring-input__error-bubble active">Error bubble for control_small</div>
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-10" class="ring-form__label">Input in Small</label>
         <div class="ring-form__control ring-form__control_small">
           <input class="ring-input" id="ring-form-10" type="text">
         </div>
       </div>
       <div class="ring-form__group">
         <label for="ring-form-11" class="ring-form__label">Textarea in Small</label>
         <div class="ring-form__control ring-form__control_small">
           <textarea class="ring-textarea" id="ring-form-11"></textarea>
         </div>
       </div>
       <div class="ring-form__footer">
         <button class="ring-btn_blue ring-btn">Save</button>
         <button class="ring-btn">Cancel</button>
       </div>
     </form>
   </file>
   <file name="index.js" webpack="true">
      require('ring-ui/components/input/input.scss');
      require('ring-ui/components/form/form.scss');
      require('ring-ui/components/panel/panel.scss');
      require('ring-ui/components/button/button.scss');
      require('ring-ui/components/textarea/textarea.scss');

      require('angular');
      require('ring-ui/components/select-ng/select-ng');

      angular.module('Example.form', ['Ring.select'])
        .controller('FormExampleCtrl', function() {
          var formExampleCtrl = this;
          formExampleCtrl.arr = [{name: 'Ada'}, {name: 'Nik'}];
        });
   </file>
 </example>
 */

$ring-input-width: $ring-unit*25;

.ring-form {
  @include ring-font;

  /**
   * TODO: remove ring-select from here, if it will use @include ring-input-control-widths
   * TODO: can "ring-input_wrapper" be removed ?
   */
  & .ring-select, & .ring-input_wrapper {
    width: 100% !important;
    margin: 0;

    &_long {
      width: 2*$ring-input-width !important;
    }
  }
}

.ring-form_white-bg {
  background: white;
}

.ring-form_border {
  border: 1px solid $ring-gray-color;
  border-radius: 2px;
}

.ring-form_rows {
  & .ring-form__label {
    float: none;
    max-width: none;
  }

  & .ring-form__control {
    & .ring-input {
      width: 100% !important;
      box-sizing: border-box;
    }

    margin-left: 0;
    width: 42 * $ring-unit;
  }
}

.ring-form__wrap {
  padding: 3*$ring-unit 4*$ring-unit 0 4*$ring-unit;
  margin-bottom: 0;
}

.ring-form__header {
  min-height: 13px;
  padding-bottom: 2*$ring-unit;
}

.ring-form__control__description {
  padding-top: $ring-unit;
  font-size: $ring-font-size-smaller;
  line-height: 16px !important;
  color: $ring-dark-gray-color;
  display: block;
}

.ring-form__title-img {
  float: left;

  height: 4*$ring-unit;
  border: 0;
}

.ring-form__title {
  display: block;
  margin-bottom: $ring-unit;

  font-weight: bold;
}

.ring-form__main-title {
  @include ring-font();

  font-size: 19px;
}

.ring-form__title_separated {
  margin: $ring-unit*3 0;
}

.ring-form__group {
  position: relative;
  margin: $ring-unit*2 0;

  &:first-child {
    margin-top: 0;
  }

  @include ring-clearfix();
}

.ring-form__group_united {
  padding-bottom: 0;
}

.ring-form__group .ring_form__group,
.ring-form__group_nested {
  padding-top: 0;
  padding-left: $ring-unit*2;

  .ring-form__control {
    margin-left: 18 * $ring-unit;
  }
}

.ring-form__label {
  position: relative;
  top: 0;
  display: inline-block;
  float: left;

  max-width: 18 * $ring-unit;
  line-height: 2 * $ring-unit;
  padding-top: $ring-unit/2;
  vertical-align: top;

  & .ring-checkbox__label, & .ring-radio-btn__label {
    top: -2px;
  }
}

/* Special fix for dialogs */
.ring-dialog__content .ring-form__label {
  max-width: 14 * $ring-unit;
}
/* End of special fix */

.ring-form__label_title {
  font-weight: bold
}

.ring-form__control {
  position: relative;
  min-height: 3 * $ring-unit;
  margin-left: 20 * $ring-unit;
  max-width: $ring-input-width;

  line-height: 3 * $ring-unit;
  vertical-align: top;

  &_full-width {
    max-width: none;
  }
}

.ring-form__control_text:after {
  content: '';
  display: inline-block;
  height: $ring-unit*3;
  vertical-align: middle;
}

// Temporary solution, proper grid is necessary
.ring-form__control_secondary {
  position: absolute;
  top: $ring-unit;
  left: 27 * $ring-unit;
}

.ring-form__control_on {
  color: $ring-green-color;
}

.ring-form__control_off {
  color: $ring-error-color;
}

.ring-form__control-link {
  position: relative;
  top: 6px;
}

.ring-form__control_small {
  margin-left: 16*$ring-unit !important;
}

.ring-form__info {
  margin-bottom: -$ring-unit + 2;
  width: 85 * $ring-unit;
  margin-left: 20 * $ring-unit;
  line-height: 20px;
}

.ring-form__control__part {
  margin-right: $ring-unit;
}

// Form for key-value data
//
// You can add "ring-form\__group_short" to "ring-form\__group" to make the left column shorter
//
// Markup:
// <form class="ring-form">
//  <div class="ring-form__group ring-form__group_short">
//    <label class="ring-form__label">
//      <input class="ring-radio-btn" type="radio" name="find-type" id="breakout-checkbox-1"/>
//      <label class="ring-radio-btn__label" for="breakout-checkbox-1"></label>
//    </label>
//    <div class="ring-form__control">
//      <label for="breakout-checkbox-1">Users with same emails and similar names</label>
//    </div>
//  </div>
//  <div class="ring-form__group ring-form__group_short">
//    <label class="ring-form__label">
//      <input class="ring-radio-btn" type="radio" name="find-type" id="breakout-checkbox-2"/>
//      <label class="ring-radio-btn__label" for="breakout-checkbox-2"></label>
//    </label>
//    <div class="ring-form__control">
//      <label for="breakout-checkbox-2">Users with same emails</label>
//    </div>
//  </div>
//  <div class="ring-form__group ring-form__group_short">
//    <label class="ring-form__label">
//        <input id="short-checkbox-1" class="ring-checkbox" type="checkbox" name="example">
//        <label class="ring-checkbox__label" for="short-checkbox-1"></label>
//    </label>
//    <div class="ring-form__control">
//      <label class="ring-label" for="breakout-checkbox-3">Users having at least something in common</label>
//    </div>
//  </div>
//  <div class="ring-form__footer">
//    <button class="ring-btn_blue ring-btn">Save</button>
//    <button class="ring-btn">Cancel</button>
//  </div>
// </form>
//
// Styleguide 7.5

.ring-form__group_short {
  padding-bottom: 0;
  padding-top: $ring-unit / 2;

  &:last-child {
    padding-bottom: $ring-unit;
  }

  .ring-form__control {
    margin-left: $ring-unit * 3;
  }
}

/**
 * TODO: remove this, if ring-select has @ring-input-control-widths
 */
.ring-select_long {
  & ~ .ring-input__error-bubble {
    left: 50*$ring-unit + 2;
  }
}
